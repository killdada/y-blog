---
group:
  path: /myy
  title: 明源云
  order: 3
nav:
  path: /work
---

# 明源云

入职时间 2016.11 - 2020.4

一直在明源云创（现在的名字已经改了），部门待过三个部门

- 移动 paas 组 apicloud、移动 paas 等，刚入职待了 1 年多，去了新成立的组 3-4 个月后又回来了，差不多待了 1.5-2 年
- appcloud 组 b2c、全民营销等 待了 1-2 年
- 客户经营平台 客户数据图表展示等，这个部门临时成立的，后续因为业务方向改变，部门好像只有 3，4 个月就解散了，后续又回到了移动 paas 组

具体每个部门的时间只记得一个大概

印象中云创整个前端团队 20 - 30 人左右

## 公司背景

明源云是国内不动产生态链数字化解决方案服务商

经营范围包括一般经营项目：计算机软、硬件的设计、开发、销售和批发；信息咨询、技术服务、技术咨询；计算机零配件批发（以上不含限制项目及专营、专控、专卖商品）；网站的运营管理与维护；进出口及相关配套业务（法律、行政法规、国务院决定禁止的项目除外，限制的项目须取得许可后方可经营）

## 云创背景

在我的认知中，部门主要是一体化，服务于其他云。包含

- dmp 大数据平台、数据分析平台
- 移动 paas 支持多端的自定义可视化平台
- appcloud 基于 cordova,其他部门使用该平台打包 app 应用等
- b2c 平台 移动 paas 的典型孵化项目
- 天眼 fast 支持多端的应用监控分析平台
- 建模平台 高效的企业后台应用搭建、管理平台，可视化
- devops 这个就是我们平时经常听到的一站式交互运维自动化平台等

![图 26](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/6ad0b99deb606d411e53d746c6f88f6c5795b2f77860cdfa1e6189a5e2827be7.png)

## 移动 paas

组内前端 4 - 6 个

### apicloud

类似于 easymock 的一个平台，支持团队管理，创建、接口定义、接口模拟数据，测试用例、自动化接口测试， 在线文档预览。

主要负责

1. 接口高级编辑功能
2. 接口在线自动化测试
3. 团队管理等业务
4. swagger 文档解析

技术栈

sails + mongodb+ redis react react-redux react-router swagger-ui redoc json schme

刚入职的时候接受的第一个项目，整体项目对于当时的我来说还算复杂 ，尤其是接口高级编辑功能和普通功能这个点的来回切换等，整体对一个 api mock 平台有了一个更深入的了解

### 移动 paas 控制台、可视化引擎等

移动 PaaS 是一个高效的应用搭建，管理平台，帮助用户通过拖拉拽的形式，自定义快速生成多端移动应用。（包含 H5、app、小程序）
移动 PaaS 的初衷是赋能 SaaS 产品，帮助用户通过拖拉拽完成用户自定义设计应用。

框架语言主要是 vue

包含

- 移动 paas 控制台
- 移动 paas 引擎版本控制
- 可视化引擎

主要接触更多的项目移动 paas 控制台，应用列表，组件列表那些，应用设计器等，可视化引擎参与比较少

![图 27](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/c8b96ee9546721bd6d3593a1952eb48a8b5447cabbf12cf97fe1c8580c336bd0.png)

![图 28](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/8328dd8444a31e415233efd4b6c24163c17e731b500b257814b2d802950b8c80.png)

组内实际我更多的是负责对外推广等，比如这个平台我们的目标是推广到明源云的其他部门使用，可视化平台在使用的过程中他们肯定会遇到很多问题，会有很多新的概念，一般我就会外派到其他部门一段时间
主要包含以下内容

- 简单业务组件培训，主要面对群体：测试。 因为系统比较复杂，测试如果能懂一些代码，写一些简单的业务组件，可以方便迭代的快速回归等
- 平台标杆项目：全民营销的落地等
- 公共的跨三端的 ui 组件和公共 api 开发和维护等
- 入驻其他部门，解答其他部门关于平台的使用上的困惑等 ，并收集其他部门在使用过程中的业务需求以及意见等，然后同步反馈到本部门进行迭代跟进

![图 29](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/341635f7c88912f2e0efee482532ac94735a60a98d0ad9a1c55471127f7cd618.png)

在和其他部门的对接中获得一致好评，取得年度客户使命必达成就奖，在这段经历中我觉得我进步最大的就是与人沟通的能力。

## 客户经营平台

组内前端 1 个

业务拆分后，客户管理客户经营平台，这个组没用维持多久后面业务重组又解散了，项目主要是使用 vue 然后搞得一些简单的图表展示等

虽然时间很短，不过在这个组，我们开展了关于自动化测试，前后端单元测试、e2e 测试的一体化，

[基于 jenkins 的前端单元测试、e2e 测试](https://github.com/killdada/frontend-test)

![图 24](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/a6f0d096b7dd2e665d58b108436f37ad1c8dc9fdd18d18520fd0d78c838702d0.png)

## appcloud

组内前端 1 个，基本所有系统都是一个人主导

一套加速 Hybrid App 开发进程的框架和工具集合。它包含 APPCloud 站点、构建服务、插件仓库、引擎组成。推广 到公司其他部门进行使用，快速打包生成基于 cordova 的 应用

![图 25](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/6d99d0a46786ba2953e6aea86f60971b986a8e3fcbf522c3c912a4e5236ad43b.png)

### b2c 全民营销

移动 paas 标杆项目，分多租户，目前有几十家地产商在使用,包含多个项目

后台

- 总台 团队、成员、租户管理、移动 paas 设计器入口等 （方便快速的初始化全民营销租户，和一些 app 的初始化配置等）
- 开发商 快速的初始化一个全民营销 paas 应用
- 租户 消息推送管理后台、应用挂载的第三方应用和挂载第三方 app 的注册等（对于 app 的发现模块统一第三方跳转入口，app 的首页图文消息推送等）

前台

全民营销移动 paas 组件集合等，基于移动 paas 可视化引擎写的业务组件等，支持 H5、app、小程序

个人特殊贡献：

1：对后台项目进行了性能优化，vuecli 升级，公共组件公共 api 抽离。大部分后台项目是差不多的，抽离公共组件工具函数以后整体方便了很多；在页面加载上从 vuecli 配置，合理分包，按需加载、懒加载等一系列手段，部分核心业务页面性能提升了百分之五十左右

2：前台的业务组件每一个业务都是一个积木，一个全民营销项目自定义的业务组件差不多有 20+，每一个业务组件都是独立的 git 库，因此每次提交代码还有合并代码发布等如果涉 git 库比较多，非常繁琐，因此自己写了个 cli 插件，集合业务组件的使用情况，提供了一系列方便的 git 操作命令等

3：业务组件在移动 paas 引擎上需要满足一定的结果，为了方便快速生成一个新的业务组件，基于 yeoman 生成了一个脚手架方便初始化业务组件

对基于 Cordova 的 app 应用的一些原生 api 有了比较详细的使用经验，包含但不限于

1：app、小程序消息推送接受，app 角标等
2：app 通过 webview 打开挂载第三方页面
3：app 跳转到第三方 app，跳转到小程序等
4：图文分享到各个平台
5：启动页，启动广告
6：定位

实际上大部分插件都来源于 cordova 官方插件，只是有些插件不满足我们的需求，appcloud 平台会自行封装我们自己的原生插件（组内有 ios、安卓原生开发）

### appcloud 打包平台

原先的有个老版本的 app 打包平台，现有 app 打开平台分为三个身份，开发者身份、租户身份、管理员身份，每个身份能够设置的 app 配置是不一样的

开发者身份

- 配置列表
- 基本配置 基本信息、图标启动页、引导页、插件、引擎
- 高级配置 config.xml、 钩子、变量、证书等
- 应用打包

租户身份

- 设置 app 名称图标
- 设置 app 启动页
- 设置 app 引导页
- 上传应用商店

管理员身份

- 项目管理
- 管理中心 团队管理、插件管理、配置管理

### websocket

appcloud 原来的插件体系,native js 通信经过组内大佬分析后，打算试着把原来的改为使用 websocket 通信去调用原生 api,因此前端需要配合进行更改

前端主要处理验证并提供 demo

- 双向通信的建立 在合适的时间点建立连接，并且注意通信的健全性
- 消息的序列化 websocket 消息序列化，为了尽可能的提升性能，并没有直接使用 json，而是通过 protobuf
- callbackId 的生成，不同的方法有不同的回调，id 也不一样, 需要通过这个唯一的 id 找到后续正确的回调方法
- 插件的初始化注册 需要把支持 websocket 的插件注册进来，用户才可以调用该插件

个人选择

这个后续后续打包注册到插件平台，打包工具还是选用 rollupjs 比较好点（app 里面的东西还是越小越好），比较轻量更适合打包一个工具，从零开始阅读 rollupjs 配置等，完善项目打包，以及基础 demo 的配置等

个人优化

插件的注册，刚开始是拿内部的一个 cordova 插件进行改造，整体的调用方式跟之前的一样（尽量不增加用户使用成本），基于后续肯定需要把其他插件一步步迁移过来，因此我新增了一个 cli 命令，定义好对应的插件描述文件 json，通过 cli 可以一键生成对应的方法

新插件方案，已经投入使用，测试后的数据为

![图 30](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/27bc6ab19ba1037194851c1a8a1221aad39b7d384eff2445dc6f6e985a876d47.png)

个人总结

不管是 webscoket、还是 rollup 都是我没有经历过的领域，自我学习能力和适应能力比较突出，在满足业务的前提下对自己还是有一定的要求，增加了自己的自信心，对以后各种可能遇到的需求或者是框架语言不再畏惧

实际就是不断采坑，不断填坑的过程，不要怕，一切没有想象的那么难 🤡，

### flutter

组内属于 app 组，计划研究下 flutter 这个框架，因此开启了一个关于陪伴 app 项目的开发

陪伴 app 旨在收录公司的一些教学视频，亮点是可以在 app 上一边看视频，一边看目录 ppt 图片，根据图片大体内容可以快速切换到对应的视频节点

分为 陪伴后台管理系统、 陪伴 app （flutter）、陪伴后端

在参与的过程中因为比较感兴趣，自己也跟着搭建了三个端，根据实际的经验并整理 ppt，在公司内部分享

项目地地址

- [陪伴后端](https://github.com/killdada/peiban-backend) eggjs、mongodb、qiniu、docker、docker-compose 等
- [陪伴前端](https://github.com/killdada/peiban) vue、qiniu,pdftopng 等
- [flutter 陪伴 app](https://github.com/killdada/flutter) flutter_screenutil 屏幕适配、dio 网络请求、fluro 路由、fish_redux store 管理等诸多插件

[陪伴后台管理系统 demo 地址](https://peiban.yenmysoft.com.cn/) 账号 admin 12345678

[flutter 总结的部分经验](https://github.com/killdada/my-blog/tree/master/flutter)

![图 1](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/79b2d1911befb49f7efd3f537cc01ad35528f9edea4cafabbff1a8149a4ccd46.png)

![图 2](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/d313d7188a4c549ef59149bb178f3cd1dabe9ca1ccc1e77f6c1fc476b9a82549.png)

![图 3](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/1cca9343a049b8c19d478dae583a05b302e8c571cea89b77c6ae264e80415a58.png)

总结

第一次尝试接触用 node 去写一个后端、用 flutter 去开发一个完整的跨端 app、学会如何在阿里云部署 docker,dcoker-compose 的一些知识点等，一切好像也没有刚开始想象的那么难。

开阔了视野，学习到了很多知识点，基础使用方式等，可能还是没有遇到一些高阶的问题，不过整个过程中踩了很多很多坑，都需要自己慢慢查阅学习，完成整个项目还是蛮有成就感，哈哈。个人的学习能力有了一个飞跃性的提升，如何如何快速踩坑填坑等。

## 智慧销讲

这个项目是 2020 年初，公司对 vr 需求爆发，外派到了其他部门帮忙写的一个项目 一个典型的 vr 看房的应用，基于 config.json 渲染，可视化配置的一种

框架 electron,krpano,vue,iview

主要负责

- 对 config.json 支持全方位的个性化在线配置
- 使用 electron 进行项目搭建，使用 krpano 解析 xml 文件展示
- vr 模块可视化编辑功能，平面可视化编辑功能

实现了第一版 针对 vr 看房应用的 在线可视化编辑功能，实现功能的自定义，用户使用该工具进行可视化编辑，成功在 H5 端同步展示效果

![图 4](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/79cdfd80f98b5985783838b06e4586afc61d60f221dd830e5a35d074a46b0ed0.png)

[整体架构介绍](https://github.com/killdada/my-blog/tree/master/electron)

![图 5](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/ce8097105abea890407a24e9143ed997287e70482e81fb7b482699254eaa0db9.png)

![图 6](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/592243c3551b81a402c1f104d621530043c1a29ed2b96a9ad718e9b51dd9b34e.png)

![图 7](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/a18d75f8faba2fa42d063efa2d32f846b745f10f802c9b5fa6f71874571992d5.png)

实际部分 H5 效果

![图 8](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/4117d489d415f2c6f41028455744f3e857099514efcecb88d568bff5031c35fd.png)

![图 9](https://qiniu.yenmysoft.com.cn/y-blog-images/docs/work/myy/6b523dca86dd30839a427f3526be54e5e227594d648cc0a99433e33b0851cfe7.png)

全新的领域，全新的挑战 🤔

## 总结

三年半的时间，说实话期间有躺平过，也有认真学习过，一切都是值得的

- 个人学习能力突出，适应能力超强
- 与人沟通能力突出，和其他部门打交道太多了，哈哈
- 并不是一个毫无追求的人，有的时候并不只是完成了任务就是结束
- 责任心太重 （可能因为跟摩羯座？？？😆）

ps:

接触了很多东西，很多知识点，进行了很多实战。但是因为后续不怎么使用，实际很多东西都忘得差不多了，比如当时的 flutter，就跟背单词一样，哈哈，🙅‍，我还能捡起来，让我躺躺

## 其他学习记录

- [webpack 插件](https://github.com/killdada/webpack)
- [vue 源码](https://github.com/killdada/my-blog/tree/master/vue)
